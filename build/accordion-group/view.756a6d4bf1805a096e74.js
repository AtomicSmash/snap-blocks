(()=>{"use strict";var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var i in o)t.o(o,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window.wp.domReady;var o=t.n(e);class i{childAccordions=[];constructor(t){this.accordionGroup=t;const e=t.id;if(void 0===e||""===e)throw new Error("Failed to get ID of accordion.");this.id=e,this.allowMultipleOpenAccordions="true"===t.dataset.isMultiple,this.initialiseAccordions()}getId(){return this.id}closeAllAccordions(){for(const t of this.childAccordions)t.close()}initialiseAccordions(){const t=document.querySelectorAll(`[id='${this.accordionGroup.id}'] > [data-accordion]`);let e=!0;for(const o of t){const t="true"===o.dataset.isInitiallyOpen;let i;this.allowMultipleOpenAccordions?i=t:e&&t?(i=!0,e=!1):i=!1;const r=new s(o,this);i||r.close(),this.childAccordions.push(r)}}}class s{closeTimeout=null;heightOfOpenAccordion=null;constructor(t,e){const o=t.id;if(void 0===o||""===o)throw new Error("Failed to get ID of accordion.");this.id=o,this.state="open";const i=document.getElementById(`${o}-trigger`);if(!i)throw new Error("Unable to determine the accordions trigger button.");this.trigger=i;const s=document.getElementById(`${o}-panel`);if(!s)throw new Error("Unable to determine the accordions content panel.");this.panel=s,this.accordionGroup=e,this.trigger.addEventListener("click",(()=>{this.toggle()})),this.panel.style.height=getComputedStyle(this.panel).getPropertyValue("height")}getId(){return this.id}getState(){return this.state}open(){var t;this.accordionGroup.allowMultipleOpenAccordions||(this.heightOfOpenAccordion=null!==(t=function(t){if(void 0!==t)return Number(t.replace("px",""))}(document.querySelector('.accordion-panel[data-state="open"]')?.style.height))&&void 0!==t?t:0,this.accordionGroup.closeAllAccordions(),this.closeTimeout&&clearTimeout(this.closeTimeout)),this.panel.style.display="",setTimeout((()=>{var t;this.state="open",this.panel.removeAttribute("aria-hidden"),this.panel.setAttribute("data-state","open"),this.trigger.setAttribute("aria-expanded","true"),this.trigger.setAttribute("data-state","open"),this.accordionGroup.allowMultipleOpenAccordions||(window.scrollBy({top:-1*(null!==(t=this.heightOfOpenAccordion)&&void 0!==t?t:0),behavior:"smooth"}),this.heightOfOpenAccordion=null)}),1)}close(){this.state="collapsed",this.panel.setAttribute("aria-hidden","true"),this.panel.setAttribute("data-state","collapsed"),this.trigger.setAttribute("aria-expanded","false"),this.trigger.setAttribute("data-state","collapsed");const t=function(t){if(new RegExp("ms$","ig").test(t))return Number(t.substring(0,t.length-2));if(new RegExp("s$","ig").test(t))return 1e3*Number(t.substring(0,t.length-1));throw new Error("Time didn't end with ms or s so was not correctly parsed.")}(getComputedStyle(this.panel).getPropertyValue("--snap-accordion-open-close-timing"));this.closeTimeout=setTimeout((()=>{this.panel.style.display="none"}),t)}toggle(){"open"===this.state?this.close():this.open()}debug(){console.log({id:this.id,state:this.state,groupId:this.accordionGroup.getId(),isInitiallyOpen:"true"===this.panel.parentElement?.dataset.isInitiallyOpen})}}o()((()=>{!function(){const t=document.querySelectorAll("[data-accordion-group]");for(const e of t)new i(e)}()}))})();